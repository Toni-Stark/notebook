<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>可视化-数据中心</title>
    <link rel="stylesheet" href="css/index.css">
</head>
<body scroll="no">
<div id="particles-js" class="main">
    <div class="main_con">
        <div class="main-header">
            <div class="header-logo" style="margin-right: 20px"> </div>
            <div class="header-title" style="margin-right: 20px"><span>千港社区管理平台</span></div>
            <div class="header-time" id="header-time">
                &nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;&nbsp;-&nbsp;&nbsp; &nbsp;&nbsp;:&nbsp;&nbsp;:&nbsp;&nbsp;
            </div>
        </div>
        <div class="main-context">
            <div class="main-context-tab">
                <div class="content-tab-card" style="margin-right: 20px">
                    <span>//当前比对数据//</span>
                    <div style="margin-top: 10px">34234234423</div>
                    <div class="top" style="width: 20px;height:10px"></div>
                    <div class="bottom" style="width: 20px;height:10px"></div>
                </div>
                <div class="content-tab-main" style="margin-right: 20px">
                    <div class="content-tab-count">
                        <div class="tab-count" style="border-right-width: 0">
                            3657
                            <div class="top" style="width: 20px;height:10px"></div>
                        </div>
                        <div class="tab-text">主体总数</div>
                    </div>
                    <div class="content-tab-count">
                        <div class="tab-count" style="border-left-width: 0">
                            2645
                            <div class="bottom" style="width: 20px;height:10px"></div>
                        </div>
                        <div class="tab-text">网站总数</div>
                    </div>
                </div>
                <div class="content-tab-card">
                    <span>//当前比对数据//</span>
                    <div>34234234423</div>
                    <div class="top" style="width: 20px;height:10px"></div>
                    <div class="bottom" style="width: 20px;height:10px"></div>
                </div>
            </div>
            <div class="main-context-tab-list">
                <div class="tab-list-action" style="margin-right:20px">
                    <div class="tab-list-colors">
                        <div class="list-colors-title">国企域名TOP9</div>
                        <div class="list-body">
                            <div class="list-colors-list" style="margin-top: 0">
                                <div class="list-colors-item"><div style="width:50%;background:#ab1717"></div><span>阿里云计算有限公司265个</span></div>
                                <div class="list-colors-item"><div style="width:20%;background:#ce550b"></div><span>阿里云计算有限公司265个</span></div>
                                <div class="list-colors-item"><div style="width:80%;background:#bb8407"></div><span>阿里云计算有限公司265个</span></div>
                                <div class="list-colors-item"><div style="width:30%;background:#0bb66f"></div><span>阿里云计算有限公司265个</span></div>
                                <div class="list-colors-item"><div style="width:70%;background:#a40ea9"></div><span>阿里云计算有限公司265个</span></div>
                                <div class="list-colors-item"><div style="width:56%;background:#109b91"></div><span>阿里云计算有限公司265个</span></div>
                                <div class="list-colors-item"><div style="width:23%;background:#bb8407"></div><span>阿里云计算有限公司265个</span></div>
                                <div class="list-colors-item"><div style="width:84%;background:#109b91"></div><span>阿里云计算有限公司265个</span></div>
                                <div class="list-colors-item"><div style="width:48%;background:#50af10"></div><span>阿里云计算有限公司265个</span></div>
                            </div>
                        </div>
                    </div>
                    <div class="top" style="width: 20px;height:10px"></div>
                    <div class="right" style="width: 20px;height:10px"></div>
                    <div class="left" style="width: 20px;height:10px"></div>
                    <div class="bottom" style="width: 20px;height:10px"></div>
                </div>
                <div class="tab-list-action" style="margin-right:20px">
                    <div class="tab-list-colors">
                        <div class="list-colors-title">国企域名TOP9</div>
                        <div class="list-body">
                            <div class="list-colors-list" style="margin-top: 0">
                                <div class="list-colors-item"><div style="width:50%;background:#ab1717"></div><span>阿里云计算有限公司265个</span></div>
                                <div class="list-colors-item"><div style="width:20%;background:#ce550b"></div><span>阿里云计算有限公司265个</span></div>
                                <div class="list-colors-item"><div style="width:80%;background:#bb8407"></div><span>阿里云计算有限公司265个</span></div>
                                <div class="list-colors-item"><div style="width:30%;background:#0bb66f"></div><span>阿里云计算有限公司265个</span></div>
                                <div class="list-colors-item"><div style="width:70%;background:#a40ea9"></div><span>阿里云计算有限公司265个</span></div>
                                <div class="list-colors-item"><div style="width:56%;background:#109b91"></div><span>阿里云计算有限公司265个</span></div>
                                <div class="list-colors-item"><div style="width:23%;background:#bb8407"></div><span>阿里云计算有限公司265个</span></div>
                                <div class="list-colors-item"><div style="width:84%;background:#109b91"></div><span>阿里云计算有限公司265个</span></div>
                                <div class="list-colors-item"><div style="width:48%;background:#50af10"></div><span>阿里云计算有限公司265个</span></div>
                            </div>
                        </div>
                    </div>
                    <div class="top" style="width: 20px;height:10px"></div>
                    <div class="right" style="width: 20px;height:10px"></div>
                    <div class="left" style="width: 20px;height:10px"></div>
                    <div class="bottom" style="width: 20px;height:10px"></div>
                </div>
                <div class="tab-list-action">
                    <div class="tab-list-colors">
                        <div class="list-colors-title">国企域名TOP9</div>
                        <div class="list-body">
                            <div class="list-colors-list" style="margin-top: 0">
                                <div class="list-colors-item"><div style="width:50%;background:#ab1717"></div><span>阿里云计算有限公司265个</span></div>
                                <div class="list-colors-item"><div style="width:20%;background:#ce550b"></div><span>阿里云计算有限公司265个</span></div>
                                <div class="list-colors-item"><div style="width:80%;background:#bb8407"></div><span>阿里云计算有限公司265个</span></div>
                                <div class="list-colors-item"><div style="width:30%;background:#0bb66f"></div><span>阿里云计算有限公司265个</span></div>
                                <div class="list-colors-item"><div style="width:70%;background:#a40ea9"></div><span>阿里云计算有限公司265个</span></div>
                                <div class="list-colors-item"><div style="width:56%;background:#109b91"></div><span>阿里云计算有限公司265个</span></div>
                                <div class="list-colors-item"><div style="width:23%;background:#bb8407"></div><span>阿里云计算有限公司265个</span></div>
                                <div class="list-colors-item"><div style="width:84%;background:#109b91"></div><span>阿里云计算有限公司265个</span></div>
                                <div class="list-colors-item"><div style="width:48%;background:#50af10"></div><span>阿里云计算有限公司265个</span></div>
                            </div>
                        </div>
                    </div>
                    <div class="top" style="width: 20px;height:10px"></div>
                    <div class="right" style="width: 20px;height:10px"></div>
                    <div class="left" style="width: 20px;height:10px"></div>
                    <div class="bottom" style="width: 20px;height:10px"></div>
                </div>
            </div>
        </div>
    </div>
</div>
</body>
</html>
<script src="./js/jquery.min.js"></script>
<script type="text/javascript" src="js/dataScoll.js"></script>
<script type="text/javascript" src="js/particles.min.js"></script>
<script type="text/javascript" src="js/app.js"></script>
<script type="text/javascript">
    function showTime() {
        var date = new Date();
        var year = date.getFullYear();
        var month = date.getMonth() + 1;  //因为month属性从0开始所以加1
        var day = date.getDate();   // 日
        var week = date.getDay();  // 星期几，是个数字
        var hour = date.getHours();
        var minute = date.getMinutes();
        var second = date.getSeconds();
        second = second < 10 ? "0" + second : second;
        var current = year + "-" + month + "-" + day + " " + hour + ":" + minute + ":" + second;
        document.getElementById("header-time").innerHTML = current;
    }
    setInterval("showTime()", 1000);//每隔1000毫秒（即1秒）显示一次当前时间

</script>
<script type="text/javascript">
    var baseUrl = "http://dev.icpdata.com/home/default/";
    var RequestApi = function ({url,type }) {
        $.ajax({
            url: `${baseUrl}${url}`,
            type: type,
            // headers: {
            //     'X-Access-Token': 'eyJhbGciOiJIUzI1NiJ9.eyJpZCI6MTM5MTk0MDI2NzQ2ODc4NzcxMiwidXNlcm5hbWUiOiLmtYvor5XnrqHnkIblkZgiLCJyb2xlTmFtZSI6ImJ1c2luZXNzX3N5c3RlbV9hZG1pbiIsInVzZXJUeXBlIjowLCJidXNpbmVzc0lkIjoxMzkxNTk0MjkzMTQ3ODY1MDg4LCJvcmdhbml6YXRpb25JZCI6MTM5MTU5NDI5MzIwMjM5MTA0MCwiZGV2aWNlVHlwZSI6OTksImV4cCI6MTY4MzYwMTkwMX0.XIds8YwG9wo3zX7MstpjfMCkc8SuOpbPe1XYL7JVXKk'
            // },
            data: {},
            success: function(result) {  //这里就是我出错的地方
                console.log('result', result);
            },
            error: function(error) {
                console.log('error', error);
            }
        });
    }
    $("html").ready(function (){
        RequestApi({url: "violation-top",type:"GET",})
    })
</script>
<script type="text/javascript">
    let listColorsList1 = document.getElementsByClassName("list-colors-list")[0];
    let listColorsList2 = document.getElementsByClassName("list-colors-list")[1];
    let listColorsList3 = document.getElementsByClassName("list-colors-list")[2];

    /**
     *  author: Gerric
     *  Dom工作器
     */
    var createDom = function ({dom, className, style, text, onClick}) {
        const content = document.createElement(dom);
        content.className = className;
        if (style) {
            content.setAttribute("style", style);
        }
        if (text) {
            content.textContent = text;
        }
        if (onClick) {
            content.addEventListener("click", (e) => {
                return onClick(content)
            })
        }
        return content
    }

    var startRotation = function (num, index) {
        var listColors = document.getElementsByClassName("list-colors-list")[index];
        var dom = listColors.children[num];
        var div1 = createDom({dom:'div', className:'list-colors-item'});
        var div2style = dom.querySelector("div").style;
        var div2 = createDom({dom:'div', style:`width:${div2style.width};background:${div2style.background};`});
        var span1 = createDom({dom:'span', text: dom.querySelector("span").textContent});

        div1.appendChild(div2);
        div1.appendChild(span1);

        listColors.appendChild(div1);
    }

    var setIntervalStart = function ({dom, num}) {
        var aList = 0;
        setInterval(() => {
            var marginTop = dom.style.marginTop.split("px")[0];
            dom.style.marginTop = `${parseInt(marginTop) - 1}px`;
            if(Math.abs(parseInt(marginTop)) % 10 === 0) {
                startRotation(aList, num);
                aList ++
            }
        }, 100);
    }
    setIntervalStart({dom: listColorsList1, num: 0});
    setIntervalStart({dom: listColorsList2, num: 1});
    setIntervalStart({dom: listColorsList3, num: 2});


</script>
